<common:LayoutAwarePage
    x:Name="pageRoot"
    x:Class="Music8.Pages.NowPlaying"
    DataContext="{Binding DefaultViewModel, RelativeSource={RelativeSource Self}}"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Music8.Pages"
    xmlns:common="using:Music8.Common"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <Page.Resources>
        <Storyboard x:Name="Reset" Storyboard.TargetName="scale" Duration="0:0:1">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="ScaleX" >
                <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0" />
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="ScaleY" >
                <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:1" Value="0" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Name="ImageFadeOut" Storyboard.TargetName="artistBackground">
        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" >
            <EasingDoubleKeyFrame KeyTime="0" Value=".2" />
            <EasingDoubleKeyFrame KeyTime="0:0:5" Value="0" /> 
        </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Name="ImageFadeIn" Storyboard.TargetName="artistBackground">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" >
                <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                <EasingDoubleKeyFrame KeyTime="0:0:5" Value=".2" />
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Name="ImageZoomIn" Storyboard.TargetName="scale" Duration="0:1:30">

            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="ScaleX" >
                <EasingDoubleKeyFrame KeyTime="5" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:15" Value="1" />

 
                <EasingDoubleKeyFrame KeyTime="0:0:15" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:1:30" Value="1.8" />
            </DoubleAnimationUsingKeyFrames>

            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="ScaleY" >
                <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:0:15" Value="1" />

                <EasingDoubleKeyFrame KeyTime="0:0:15" Value="1" />
                <EasingDoubleKeyFrame KeyTime="0:1:30" Value="1.8" />
            </DoubleAnimationUsingKeyFrames>

        </Storyboard>
    </Page.Resources>
    <Grid Background="Black">
        <Grid.RowDefinitions>
            <RowDefinition Height="140"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="200"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
            <ColumnDefinition Width="450"></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <Image Name="artistBackground" Grid.Row="0" Grid.Column="0" Grid.RowSpan="3" Grid.ColumnSpan="2" Stretch="UniformToFill" >
            <Image.RenderTransform>
                <ScaleTransform x:Name="scale"></ScaleTransform>
            </Image.RenderTransform>
            
        </Image>


        <Button Grid.Column="0" Content="Button" HorizontalAlignment="Left" Click="GoBack" Style="{StaticResource BackButtonStyle}"/>

        <StackPanel  Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="3" Margin="40, 0, 0, 0" Background="Transparent">
            <TextBlock Style="{StaticResource HeaderTextStyle}" Text="Test" Grid.ColumnSpan="2" Foreground="White" Margin="0, 10, 0, 0"/>
            <TextBlock Style="{StaticResource SubheaderTextStyle}" Text="albym by artist"  Foreground="White" Margin="0, 5, 0, 0"/>
            <TextBlock Style="{StaticResource ItemTextStyle}" Text="0:55/3:43" Foreground="White" Margin="0, 5, 0, 0"/>
        </StackPanel>
        
        
        <ListView x:Name="nowPlayingList"
                  Width="450" HorizontalAlignment="Right"
                  IsItemClickEnabled="False"
                  AllowDrop="True"
                  SelectionMode="Single"
                  CanReorderItems="True"
                  Background="#FFC6C6C6"
                  Grid.RowSpan="3"
                  Grid.Column="2"
                  >
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid Width="300" HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Margin="5">
                            <TextBlock Text="{Binding Title}" TextWrapping="NoWrap"/>
                            <TextBlock Text="{Binding AlbumArtist}" FontSize="12" TextWrapping="NoWrap"/>
                            <TextBlock TextWrapping="NoWrap">
                                    <Run Text="{Binding DurationTimeSpan}"/>
                            </TextBlock>
                        </StackPanel>
                        <Button Content="&#xE10A;" Grid.Column="1"
                                Style="{StaticResource CustomButtonStyle}"
                               HorizontalAlignment="Right"
                                Tag="{Binding}" Click="Button_Click_1" />
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

    </Grid>
</common:LayoutAwarePage>
